From 3a40401047c5bc40d1f55ebb68dfa40b2b2499b4 Mon Sep 17 00:00:00 2001
From: "muhammed.asif" <muhammed.asif@dicortech.com>
Date: Tue, 30 Jan 2024 15:47:26 +0530
Subject: [PATCH] added support for i2c gp with eeprom

---
 .../boot/dts/freescale/imx8qxp-agility.dtsi   | 24 +++++++++++++++++++
 1 file changed, 24 insertions(+)

diff --git a/arch/arm64/boot/dts/freescale/imx8qxp-agility.dtsi b/arch/arm64/boot/dts/freescale/imx8qxp-agility.dtsi
index 6f6a23815..a8aa112cd 100644
--- a/arch/arm64/boot/dts/freescale/imx8qxp-agility.dtsi
+++ b/arch/arm64/boot/dts/freescale/imx8qxp-agility.dtsi
@@ -327,6 +327,22 @@ &usbotg1 {
         status = "okay";
 };
 
+//added support for EEPROM(M24C02-RMN6TP) 
+&i2c0 {
+        clock-frequency = <100000>;
+        pinctrl-names = "default";
+        pinctrl-0 = <&pinctrl_i2c0>;
+        #address-cells = <1>;
+		#size-cells = <0>;
+		status = "okay";
+				
+        st24c02:eeprom@50 {
+                compatible = "atmel,24c02";
+                reg = <0x50>;
+                pagesize = <16>;
+        };		
+};
+
 &usbotg3 {
 	status = "okay";
 };
@@ -616,4 +632,12 @@ IMX8QXP_ENET0_RGMII_RXD3_CONN_ENET0_RGMII_RXD3		0x61
 		>;
 	};
 
+	pinctrl_i2c0: i2c0grp {
+		fsl,pins = <
+			IMX8QXP_MIPI_CSI0_GPIO0_00_ADMA_I2C0_SCL	0x06000021
+			IMX8QXP_MIPI_CSI0_GPIO0_01_ADMA_I2C0_SDA	0x06000021
+		>;
+	};
+
+
 };
-- 
2.25.1

